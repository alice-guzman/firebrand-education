!function(){$(".elf .accordion").each(function(a){$(this).find("h3[role='tab']").click(function(){if($(this).siblings("h3").attr("aria-selected","false"),"false"===$(this).attr("aria-selected")){$(this).attr("aria-selected","true");var a=$(this).attr("aria-controls"),b=$("#"+a);b.siblings("div").slideUp("fast",function(){b.siblings("div").attr("aria-hidden","true"),b.siblings("div").addClass("hidden")}),b.slideDown("fast",function(){b.removeClass("hidden"),b.attr("aria-hidden","false")})}else{$(this).attr("aria-selected","false");var a=$(this).attr("aria-controls"),b=$("#"+a);b.siblings("div").slideUp("fast",function(){b.siblings("div").attr("aria-hidden","true"),b.siblings("div").addClass("hidden")}),b.slideUp("fast",function(){b.addClass("hidden"),b.attr("aria-hidden","true")})}}),$(this).find("h3[role='tab']").keydown(function(a){13==a.which&&$(this).click()})})}(),function(){function a(a){a.each(function(){var a=$(this),d={};d.timelineWrapper=a.find(".events-wrapper"),d.eventsWrapper=d.timelineWrapper.children(".events"),d.fillingLine=d.eventsWrapper.children(".filling-line"),d.timelineEvents=d.eventsWrapper.find("a"),d.timelineDates=n(d.timelineEvents),d.eventsMinLapse=p(d.timelineDates),d.timelineNavigation=a.find(".main-timeline-navigation"),d.eventsContent=a.children(".events-content"),g(d,t);var e=h(d,t);a.addClass("loaded"),d.timelineNavigation.on("click",".next",function(a){a.preventDefault(),b(d,e,"next")}),d.timelineNavigation.on("click",".prev",function(a){a.preventDefault(),b(d,e,"prev")}),d.eventsWrapper.on("click","a",function(a){a.preventDefault(),d.timelineEvents.removeClass("selected"),$(this).addClass("selected"),k($(this)),f($(this),d.fillingLine,e),j($(this),d.eventsContent)}),d.eventsContent.on("swipeleft",function(){var a=r();"mobile"==a&&c(d,e,"next")}),d.eventsContent.on("swiperight",function(){var a=r();"mobile"==a&&c(d,e,"prev")}),$(document).keyup(function(b){"37"==b.which&&q(a.get(0))?c(d,e,"prev"):"39"==b.which&&q(a.get(0))&&c(d,e,"next")})})}function b(a,b,c){var d=l(a.eventsWrapper),f=Number(a.timelineWrapper.css("width").replace("px",""));"next"==c?e(a,d-f+t,f-b):e(a,d+f-t)}function c(a,b,c){var e=a.eventsContent.find(".selected"),g="next"==c?e.next():e.prev();if(g.length>0){var h=a.eventsWrapper.find(".selected"),i="next"==c?h.parent("li").next("li").children("a"):h.parent("li").prev("li").children("a");f(i,a.fillingLine,b),j(i,a.eventsContent),i.addClass("selected"),h.removeClass("selected"),k(i),d(c,i,a)}}function d(a,b,c){var d=window.getComputedStyle(b.get(0),null),f=Number(d.getPropertyValue("left").replace("px","")),g=Number(c.timelineWrapper.css("width").replace("px","")),h=Number(c.eventsWrapper.css("width").replace("px","")),i=l(c.eventsWrapper);("next"==a&&f>g-i||"prev"==a&&f<-i)&&e(c,-f+g/2,g-h)}function e(a,b,c){var d=a.eventsWrapper.get(0);b=b>0?0:b,b="undefined"!=typeof c&&b<c?c:b,m(d,"translateX",b+"px"),0==b?a.timelineNavigation.find(".prev").addClass("inactive"):a.timelineNavigation.find(".prev").removeClass("inactive"),b==c?a.timelineNavigation.find(".next").addClass("inactive"):a.timelineNavigation.find(".next").removeClass("inactive")}function f(a,b,c){var d=window.getComputedStyle(a.get(0),null),e=d.getPropertyValue("left"),f=d.getPropertyValue("width");e=Number(e.replace("px",""))+Number(f.replace("px",""))/2;var g=e/c;m(b.get(0),"scaleX",g)}function g(a,b){for(i=0;i<a.timelineDates.length;i++){var c=o(a.timelineDates[0],a.timelineDates[i]),d=Math.round(c/a.eventsMinLapse)+2;a.timelineEvents.eq(i).css("left",d*b+"px")}}function h(a,b){var c=o(a.timelineDates[0],a.timelineDates[a.timelineDates.length-1]),e=c/a.eventsMinLapse,e=Math.round(e)+4,g=e*b;return a.eventsWrapper.css("width",g+"px"),f(a.eventsWrapper.find("a.selected"),a.fillingLine,g),d("next",a.eventsWrapper.find("a.selected"),a),g}function j(a,b){var c=a.data("date"),d=b.find(".selected"),e=b.find('[data-date="'+c+'"]'),f=e.height();if(e.index()>d.index())var g="selected enter-right",h="leave-left";else var g="selected enter-left",h="leave-right";e.attr("class",g),d.attr("class",h).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){d.removeClass("leave-right leave-left"),e.removeClass("enter-left enter-right")}),b.css("height",f+"px")}function k(a){a.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function l(a){var b=window.getComputedStyle(a.get(0),null),c=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");if(c.indexOf("(")>=0){var c=c.split("(")[1];c=c.split(")")[0],c=c.split(",");var d=c[4]}else var d=0;return Number(d)}function m(a,b,c){a.style["-webkit-transform"]=b+"("+c+")",a.style["-moz-transform"]=b+"("+c+")",a.style["-ms-transform"]=b+"("+c+")",a.style["-o-transform"]=b+"("+c+")",a.style.transform=b+"("+c+")"}function n(a){var b=[];return a.each(function(){var a=$(this),c=a.data("date").split("T");if(c.length>1)var d=c[0].split("/"),e=c[1].split(":");else if(c[0].indexOf(":")>=0)var d=["2000","0","0"],e=c[0].split(":");else var d=c[0].split("/"),e=["0","0"];var f=new Date(d[2],d[1]-1,d[0],e[0],e[1]);b.push(f)}),b}function o(a,b){return Math.round(b-a)}function p(a){var b=[];for(i=1;i<a.length;i++){var c=o(a[i-1],a[i]);b.push(c)}return Math.min.apply(null,b)}function q(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}function r(){return window.getComputedStyle(document.querySelector(".main-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}var s=$(".main-horizontal-timeline"),t=60;s.length>0&&a(s)}(),function(){$(".kc").each(function(){$("input[name='choice'],select[name='choice']").change(function(){var a=$(this).closest(".kc"),b=a.find(".feedback");b.hide().attr("aria-hidden",!0);var c=$(this).val(),d=b.filter("."+c);d.fadeIn("fast",function(){d.removeClass("hidden").attr("aria-hidden",!1)})})})}(),function(){$(".elf .trigger").click(function(a){a.preventDefault();var b=$(this).attr("value"),c=$("#"+b),d=c.find(".lightbox");c.fadeIn("fast",function(){c.attr("aria-hidden","false")}),d.addClass("scale-in"),$("html, .body").css({overflow:"hidden",height:"100%"}),$("#"+b+"-title").focus(),$(".elf .trigger").keypress(function(a){13==a.which&&$(this).click()}),$(".elf .close").on("keydown",function(a){9==(a.keyCode||a.which)&&($("#"+b+"-title").focus(),a.preventDefault())}),$(".elf .close").click(function(a){a.preventDefault();var b=$(c).attr("id");c.fadeOut("fast",function(){c.attr("aria-hidden","true"),d.removeClass("scale-in")}),$("html, .body").css({overflow:"visible",height:"100%"}),$(".trigger[value='"+b+"']").focus()}),$(".elf").keydown(function(a){27==a.which&&$(".close").click()}),$(".modal").click(function(a){if(a.target==this){var b=$(c).attr("id");$(this).fadeOut("fast",function(){c.attr("aria-hidden","true"),d.removeClass("scale-in")}),$("html, .body").css({overflow:"visible",height:"100%"}),$(".trigger[value='"+b+"']").focus(),a.preventDefault()}})})}(),function(){$(".elf .carousel").each(function(){function a(){$(c).find(".counter").text(e+"/"+d)}function b(){$(c).find("ul.carousel-content > li").removeClass("fade-in").attr("aria-hidden","true"),$(c).find("ul.carousel-content > li").addClass("hidden"),e>d&&(e=1),0===e&&(e=d);var b=e-1;$(c).find(".carousel-content > li:eq("+b+")").addClass("fade-in").attr("aria-hidden","false"),$(c).find(".carousel-content > li:eq("+b+")").removeClass("hidden"),a()}var c=$(this),d=$(c).find("ul.carousel-content > li").length,e=1;$(c).find("button.next").click(function(){e+=1,b()}),$(c).find("button.prev").click(function(){e-=1,b()}),$(c).find("button").keypress(function(a){if(13==a.which)return $(this).click(),a.preventDefault(),!1}),a()})}(),function(){$(".elf .tabs").each(function(a){$("li[role='tab']").click(function(){$(this).siblings().attr("aria-selected","false"),$(this).attr("aria-selected","true");var a=$(this).attr("aria-controls"),b=$("#"+a);b.siblings().attr("aria-hidden","true"),b.siblings().addClass("hidden").removeClass("fade-in"),b.addClass("fade-in").removeClass("hidden"),b.attr("aria-hidden","false")}),$("li[role='tab']").keydown(function(a){13==a.which&&$(this).click()})})}(),function(){$("a[href*=#]:not([href=#])").click(function(){var a=$(this).attr("href"),b=$(a);return $("html, body").animate({scrollTop:b.offset().top},400),$(a).focus(),!1})}(),function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".top").removeClass("hidden"):$(".top").addClass("hidden")})}(),function(){$("#mainmenu").click(function(){var a=$(".sub");a.hasClass("closed")?(a.removeClass("closed"),a.addClass("open"),$("html, .body").css({overflow:"hidden",height:"100%"})):(a.removeClass("open"),a.addClass("closed"),$("html, .body").css({overflow:"visible",height:"100%"}))}),$(".slideout-container .sub a[href*=#]:not([href=#])").click(function(){var a=$(".sub");a.hasClass("closed")?(a.removeClass("closed"),a.addClass("open"),$("html, .body").css({overflow:"hidden",height:"100%"})):(a.removeClass("open"),a.addClass("closed"),$("html, .body").css({overflow:"visible",height:"100%"}))})}(),function(){$(".elf .image-map .trigger").each(function(a){var b=$(this).attr("data-top"),c=$(this).attr("data-left");$(this).css({top:b+"%",left:c+"%"})})}();